# 渲染管线

图形渲染管线可以被划分为两个主要部分：

1. 把的3D坐标转换为2D坐标。
2. 把2D坐标转变为实际的有颜色的像素。

这两个部分可以被抽象成以下几个个主要步骤：

顶点数据 -> **顶点着色器** -> 图元装配 -> **几何着色器** -> 光栅化 -> **片段着色器** -> 测试与混合

1. 顶点数据：顶点数据以数组的形式将一组3D坐标作为图形渲染管线的输入。顶点数据是一系列顶点的集合。
2. 顶点着色器：把一个单独的顶点作为输入，把3D坐标转换为标准化设备坐标。如果顶点数据中包含其他顶点属性，顶点着色器也能够进行一些简单的处理。
3. 图元装配：将顶点着色器输出的所有顶点作为输入，并把所有的点装配成指定图元的形状。
4. 几何着色器：把图元形式的一系列顶点的集合作为输入，通过产生新顶点构造出新的图元来生成其他形状。
5. 光栅化：将几何着色器的输出图元映射为屏幕上相应的像素，生成能够供片段着色器使用的片段。但是在片段着色器运行之前会执行裁切的操作，将丢弃超出视图以外的所有像素，用来提升执行效率。
6. 片段着色器：用于计算每一个像素的最终颜色。OpenGL的各种高级效果将在这里实现。
7. 测试与混合：这个阶段会检测片段所对应的深度值和模板值，用来判断像素是否应该被丢弃，也会检测Alpha值，来完成混合的操作。
